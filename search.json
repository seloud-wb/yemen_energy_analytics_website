[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Home",
    "section": "",
    "text": "Explore Dashboard →\nMonitor MFI and facility-level progress with interactive visualizations.\n\n\n\nRead Documentation →\nMethods, assumptions, and supporting notes."
  },
  {
    "objectID": "index.html#yeeap-ii-operation",
    "href": "index.html#yeeap-ii-operation",
    "title": "Home",
    "section": "",
    "text": "Explore Dashboard →\nMonitor MFI and facility-level progress with interactive visualizations.\n\n\n\nRead Documentation →\nMethods, assumptions, and supporting notes."
  },
  {
    "objectID": "notebooks/facilities_data_explore.html",
    "href": "notebooks/facilities_data_explore.html",
    "title": "Status",
    "section": "",
    "text": "import pandas as pd\n\n\ndf = pd.read_csv('../data/facilities.csv')\nprint(df.head())\nprint(df.describe())\nprint(df.info())\n\n         date Governorate               District Village Name/ /ozla    Type  \\\n0  2025-07-15   Hadramawt        Ghayl Bin Yamin             Al Maqd  School   \n1  2025-07-15   Hadramawt                  Dawan                Saif  School   \n2  2025-07-15   Hadramawt          Ghayl Bawazir   Al-Ghail bawazeer  School   \n3  2025-07-15   Hadramawt  Ar Raydah wa Qussayar       Hay Alshaheed  School   \n4  2025-07-15   Hadramawt  Ar Raydah wa Qussayar          Al Rayadah  Clinic   \n\n                Facility name       Phase     Status Comments (if any)  \\\n0     Aisha Complex for Girls  Roll-Out-1  Energized             Lot-1   \n1   Omar bin Abdulaziz School  Roll-Out-1  Energized             Lot-1   \n2  Girl School Ghail Bawazeer  Roll-Out-1  Energized             Lot-1   \n3     Girl School in Qusayaar  Roll-Out-1  Energized             Lot-1   \n4         Al Rayadah hospital  Roll-Out-1  Energized             Lot-1   \n\n   Installed/planned capacity (kW)  Male Beneficiaries (approx.)  \\\n0                              6.6                           0.0   \n1                              6.6                         200.0   \n2                             17.6                           0.0   \n3                              8.8                           0.0   \n4                             22.0                        7320.0   \n\n   Female Beneficiaries (approx.)  Total Beneficiaries (approx.)  \\\n0                           649.0                            649   \n1                           226.0                            426   \n2                           800.0                            800   \n3                           368.0                            368   \n4                          7656.0                          14976   \n\n            Coordinate  \n0  15.546326,49.347984  \n1   15.32405,48.320344  \n2  14.765667,49.372728  \n3  14.942097,50.341980  \n4  15.037327,50.478479  \n       Installed/planned capacity (kW)  Male Beneficiaries (approx.)  \\\ncount                      4233.000000                   4182.000000   \nmean                         27.006449                   5487.437590   \nstd                          27.390559                  17240.202713   \nmin                           2.000000                      0.000000   \n25%                           8.250000                    972.000000   \n50%                          16.500000                   2100.000000   \n75%                          41.800000                   3897.000000   \nmax                         210.000000                 229840.000000   \n\n       Female Beneficiaries (approx.)  Total Beneficiaries (approx.)  \ncount                     4221.000000                    4233.000000  \nmean                      6505.049041                   12739.465627  \nstd                      19708.934150                   37783.350993  \nmin                          0.000000                       0.000000  \n25%                       1248.000000                    2400.000000  \n50%                       2394.000000                    4800.000000  \n75%                       4500.000000                    8964.000000  \nmax                     239222.000000                  469062.000000  \n&lt;class 'pandas.core.frame.DataFrame'&gt;\nRangeIndex: 4233 entries, 0 to 4232\nData columns (total 14 columns):\n #   Column                           Non-Null Count  Dtype  \n---  ------                           --------------  -----  \n 0   date                             4233 non-null   object \n 1   Governorate                      4233 non-null   object \n 2   District                         4222 non-null   object \n 3   Village Name/ /ozla              3552 non-null   object \n 4   Type                             4233 non-null   object \n 5   Facility name                    4233 non-null   object \n 6   Phase                            4233 non-null   object \n 7   Status                           4233 non-null   object \n 8   Comments (if any)                3411 non-null   object \n 9   Installed/planned capacity (kW)  4233 non-null   float64\n 10  Male Beneficiaries (approx.)     4182 non-null   float64\n 11  Female Beneficiaries (approx.)   4221 non-null   float64\n 12  Total Beneficiaries (approx.)    4233 non-null   int64  \n 13  Coordinate                       4210 non-null   object \ndtypes: float64(3), int64(1), object(10)\nmemory usage: 463.1+ KB\nNone\n\n\n\ndef latest_snapshot(df):\n    \"\"\"Return dataframe filtered to the latest date available.\"\"\"\n    latest_date = df[\"date\"].max()\n    return df[df[\"date\"] == latest_date].copy()\n\ndf_latest =latest_snapshot(df)\ndf_latest\n\n\n\n\n\n\n\n\ndate\nGovernorate\nDistrict\nVillage Name/ /ozla\nType\nFacility name\nPhase\nStatus\nComments (if any)\nInstalled/planned capacity (kW)\nMale Beneficiaries (approx.)\nFemale Beneficiaries (approx.)\nTotal Beneficiaries (approx.)\nCoordinate\n\n\n\n\n2822\n2025-07-31\nHadramawt\nGhayl Bin Yamin\nAl Maqd\nSchool\nAisha Complex for Girls\nRoll-Out-1\nEnergized\nLot-1\n6.6\n0.0\n649.0\n649\n15.546326,49.347984\n\n\n2823\n2025-07-31\nHadramawt\nDawan\nSaif\nSchool\nOmar bin Abdulaziz School\nRoll-Out-1\nEnergized\nLot-1\n6.6\n200.0\n226.0\n426\n15.32405,48.320344\n\n\n2824\n2025-07-31\nHadramawt\nGhayl Bawazir\nAl-Ghail bawazeer\nSchool\nGirl School Ghail Bawazeer\nRoll-Out-1\nEnergized\nLot-1\n17.6\n0.0\n800.0\n800\n14.765667,49.372728\n\n\n2825\n2025-07-31\nHadramawt\nAr Raydah wa Qussayar\nHay Alshaheed\nSchool\nGirl School in Qusayaar\nRoll-Out-1\nEnergized\nLot-1\n8.8\n0.0\n368.0\n368\n14.942097,50.341980\n\n\n2826\n2025-07-31\nHadramawt\nAr Raydah wa Qussayar\nAl Rayadah\nClinic\nAl Rayadah hospital\nRoll-Out-1\nEnergized\nLot-1\n22.0\n7320.0\n7656.0\n14976\n15.037327,50.478479\n\n\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n\n\n3528\n2025-07-31\nMa'rib\nMadghal Al Jid'an\nNaN\nWell\nAl-Otair\nPackage#8\nUnder Design\nLot-2\n45.0\n2822.0\n2938.0\n5760\n14.411771, 44.687928\n\n\n3529\n2025-07-31\nSana'a\nKhawlan\nNaN\nWell\nNoor El-Asaf\nPackage#8\nUnder Design\nLot-3\n9.0\n1411.0\n1469.0\n2880\n14.742903 , 44.054730\n\n\n3530\n2025-07-31\nShabwah\nAsh Shu'ayb\nNaN\nWell\nAL-Hajer Well\nPackage#8\nUnder Design\nLot-2\n27.0\n823.0\n857.0\n1680\n14.158101,44.462242\n\n\n3531\n2025-07-31\nShabwah\nAsh Shu'ayb\nNaN\nWell\nLmater Well\nPackage#8\nUnder Design\nLot-2\n27.0\n1015.0\n1145.0\n2160\n15.47118298, 43.63704742\n\n\n3532\n2025-07-31\nShabwah\nRaydah\nNaN\nWell\nAL-Jabiah 2\nPackage#8\nUnder Design\nLot-2\n81.0\n2004.0\n2100.0\n4104\n15.22747,44.70396\n\n\n\n\n711 rows × 14 columns\n\n\n\n\nprint(df_latest.groupby('Governorate')['Total Beneficiaries (approx.)'].sum().sum())\nprint(df_latest.groupby('Governorate')['Female Beneficiaries (approx.)'].sum().sum())\nprint(df_latest.groupby('Governorate')['Male Beneficiaries (approx.)'].sum().sum())\n\n8421782\n4587139.0\n3834643.0\n\n\n\n\n\n\nimport pandas as pd\n\n# Assuming df is your dataframe\nenergized_by_date = (\n    df[df[\"Status\"] == \"Energized\"]      # filter for energized facilities\n      .groupby(\"date\")[\"Facility name\"]  # group by date, use facility column\n      .count()                           # count facilities\n      .reset_index(name=\"Energized_Facilities\")\n)\n\nprint(energized_by_date)\n\n         date  Energized_Facilities\n0  2025-05-15                   444\n1  2025-05-29                   446\n2  2025-06-15                   447\n3  2025-06-30                   447\n4  2025-07-15                   448\n5  2025-07-31                   451\n\n\n\ndf.groupby('date')\n\n\n&lt;pandas.core.groupby.generic.DataFrameGroupBy object at 0x1149c4fb0&gt;\n\n\n\nimport plotly.express as px\nimport plotly.io as pio\n\npio.templates.default = 'plotly_white'\n\n\n\n\nimport pandas as pd\nimport plotly.express as px\n\nimport pandas as pd\nimport plotly.express as px\n\ndef plot_facility_status_pie(df: pd.DataFrame, width: int = 600, height: int = 400):\n    \"\"\"\n    Create a pie chart of facility status distribution\n    with the legend displayed horizontally below the chart.\n\n    Parameters\n    ----------\n    df : pandas.DataFrame\n        Facilities dataset with a 'Status' column.\n    width : int\n        Width of the chart in pixels.\n    height : int\n        Height of the chart in pixels.\n\n    Returns\n    -------\n    fig : plotly.graph_objects.Figure\n        Interactive pie chart figure.\n    \"\"\"\n    # Count facilities by status\n    status_counts = df['Status'].value_counts().reset_index()\n    status_counts.columns = ['Status', 'Count']\n\n    # Build pie chart\n    fig = px.pie(\n        status_counts,\n        names=\"Status\",\n        values=\"Count\",\n        hole=0.3,\n        width=width,\n        height=height\n    )\n\n    # Place legend below the chart\n    fig.update_layout(\n        autosize=False,  # don't let Plotly resize on its own\n        width=width,\n        height=height,\n        title=None,\n        legend=dict(\n            orientation=\"h\",   # horizontal layout\n            x=0.5,             # center horizontally\n            xanchor=\"center\",\n            y=-0.2             # below chart\n        ),\n        margin=dict(l=20, r=20, t=20, b=80),\n        plot_bgcolor=\"lightyellow\",   # chart area background\n        paper_bgcolor=\"lightblue\"   # whole figure background\n    )\n        # Add bounding box (rectangle across entire figure)\n    fig.add_shape(\n        type=\"rect\",\n        x0=0, y0=0, x1=1, y1=1,  # normalized coordinates (0–1 = whole figure)\n        xref=\"paper\", yref=\"paper\",\n        line=dict(color=\"black\", width=3),\n        fillcolor=\"rgba(0,0,0,0)\"  # transparent fill\n    )\n\n    return fig\n\n\nfig = plot_facility_status_pie(df, width=400, height=400)\n\n# Inspect the width/height stored in layout\nprint(\"Figure size (requested):\", fig.layout.width, \"x\", fig.layout.height)\n\nfig.show()\n\nFigure size (requested): 400 x 400\n\n\nUnable to display output for mime type(s): application/vnd.plotly.v1+json\n\n\n\ndf.groupby('date')['Total Beneficiaries (approx.)'].sum()\n\ndate\n2025-05-15    9553604\n2025-05-29    9553604\n2025-06-15    9553604\n2025-06-30    8421782\n2025-07-15    8421782\n2025-07-31    8421782\nName: Total Beneficiaries (approx.), dtype: int64"
  }
]